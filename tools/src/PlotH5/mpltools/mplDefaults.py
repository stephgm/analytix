#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Fri Mar 20 23:22:26 2020

@author: marlowcj
"""
import os
import sys
import matplotlib.pyplot as plt
import matplotlib
import numpy as np
import struct

if not hasattr(sys, 'frozen'):
    RELATIVE_LIB_PATH = os.path.dirname(os.path.dirname(os.path.dirname(os.path.realpath(__file__))))
    if __name__ == '__main__':
        sys.path.append(RELATIVE_LIB_PATH)
        sys.path.pop(0)
else:
    RELATIVE_LIB_PATH = os.path.dirname(sys.executable)


marker_to_array = {'.': np.array([[ 0.        , -0.25      ],
        [ 0.06630078, -0.25      ],
        [ 0.12989497, -0.22365842],
        [ 0.1767767 , -0.1767767 ],
        [ 0.22365842, -0.12989497],
        [ 0.25      , -0.06630078],
        [ 0.25      ,  0.        ],
        [ 0.25      ,  0.06630078],
        [ 0.22365842,  0.12989497],
        [ 0.1767767 ,  0.1767767 ],
        [ 0.12989497,  0.22365842],
        [ 0.06630078,  0.25      ],
        [ 0.        ,  0.25      ],
        [-0.06630078,  0.25      ],
        [-0.12989497,  0.22365842],
        [-0.1767767 ,  0.1767767 ],
        [-0.22365842,  0.12989497],
        [-0.25      ,  0.06630078],
        [-0.25      ,  0.        ],
        [-0.25      , -0.06630078],
        [-0.22365842, -0.12989497],
        [-0.1767767 , -0.1767767 ],
        [-0.12989497, -0.22365842],
        [-0.06630078, -0.25      ],
        [ 0.        , -0.25      ],
        [ 0.        , -0.25      ]]), 
    ',': np.array([[-0.49999, -0.49999],
        [ 0.50001, -0.49999],
        [ 0.50001,  0.50001],
        [-0.49999,  0.50001],
        [-0.49999, -0.49999]]), 
    'o': np.array([[ 0.        , -0.5       ],
        [ 0.13260155, -0.5       ],
        [ 0.25978994, -0.44731685],
        [ 0.35355339, -0.35355339],
        [ 0.44731685, -0.25978994],
        [ 0.5       , -0.13260155],
        [ 0.5       ,  0.        ],
        [ 0.5       ,  0.13260155],
        [ 0.44731685,  0.25978994],
        [ 0.35355339,  0.35355339],
        [ 0.25978994,  0.44731685],
        [ 0.13260155,  0.5       ],
        [ 0.        ,  0.5       ],
        [-0.13260155,  0.5       ],
        [-0.25978994,  0.44731685],
        [-0.35355339,  0.35355339],
        [-0.44731685,  0.25978994],
        [-0.5       ,  0.13260155],
        [-0.5       ,  0.        ],
        [-0.5       , -0.13260155],
        [-0.44731685, -0.25978994],
        [-0.35355339, -0.35355339],
        [-0.25978994, -0.44731685],
        [-0.13260155, -0.5       ],
        [ 0.        , -0.5       ],
        [ 0.        , -0.5       ]]), 
    'v': np.array([[-6.123234e-17, -5.000000e-01],
        [ 5.000000e-01,  5.000000e-01],
        [-5.000000e-01,  5.000000e-01],
        [-6.123234e-17, -5.000000e-01]]), 
    '^': np.array([[ 0. ,  0.5],
        [-0.5, -0.5],
        [ 0.5, -0.5],
        [ 0. ,  0.5]]), 
    '<': np.array([[-5.000000e-01,  3.061617e-17],
        [ 5.000000e-01, -5.000000e-01],
        [ 5.000000e-01,  5.000000e-01],
        [-5.000000e-01,  3.061617e-17]]), 
    '>': np.array([[ 5.00000000e-01, -9.18485099e-17],
        [-5.00000000e-01,  5.00000000e-01],
        [-5.00000000e-01, -5.00000000e-01],
        [ 5.00000000e-01, -9.18485099e-17]]), 
    '1': np.array([[ 0.  ,  0.  ],
        [ 0.  , -0.5 ],
        [ 0.  ,  0.  ],
        [ 0.4 ,  0.25],
        [ 0.  ,  0.  ],
        [-0.4 ,  0.25]]), 
    '2': np.array([[ 0.000000e+00,  0.000000e+00],
        [ 6.123234e-17,  5.000000e-01],
        [ 0.000000e+00,  0.000000e+00],
        [-4.000000e-01, -2.500000e-01],
        [ 0.000000e+00,  0.000000e+00],
        [ 4.000000e-01, -2.500000e-01]]), 
    '3': np.array([[ 0.00000000e+00,  0.00000000e+00],
        [-5.00000000e-01,  9.18485099e-17],
        [ 0.00000000e+00,  0.00000000e+00],
        [ 2.50000000e-01, -4.00000000e-01],
        [ 0.00000000e+00,  0.00000000e+00],
        [ 2.50000000e-01,  4.00000000e-01]]), 
    '4': np.array([[ 0.000000e+00,  0.000000e+00],
        [ 5.000000e-01, -3.061617e-17],
        [ 0.000000e+00,  0.000000e+00],
        [-2.500000e-01,  4.000000e-01],
        [ 0.000000e+00,  0.000000e+00],
        [-2.500000e-01, -4.000000e-01]]), 
    '8': np.array([[-0.19134172,  0.46193977],
        [-0.46193977,  0.19134172],
        [-0.46193977, -0.19134172],
        [-0.19134172, -0.46193977],
        [ 0.19134172, -0.46193977],
        [ 0.46193977, -0.19134172],
        [ 0.46193977,  0.19134172],
        [ 0.19134172,  0.46193977],
        [-0.19134172,  0.46193977]]), 
    's': np.array([[-0.5, -0.5],
        [ 0.5, -0.5],
        [ 0.5,  0.5],
        [-0.5,  0.5],
        [-0.5, -0.5]]), 
    'p': np.array([[ 3.06161700e-17,  5.00000000e-01],
        [-4.75528258e-01,  1.54508497e-01],
        [-2.93892626e-01, -4.04508497e-01],
        [ 2.93892626e-01, -4.04508497e-01],
        [ 4.75528258e-01,  1.54508497e-01],
        [ 1.53080850e-16,  5.00000000e-01]]), 
    '*': np.array([[ 3.06161700e-17,  5.00000000e-01],
        [-1.12256991e-01,  1.54508493e-01],
        [-4.75528258e-01,  1.54508497e-01],
        [-1.81635627e-01, -5.90169926e-02],
        [-2.93892626e-01, -4.04508497e-01],
        [-3.50830079e-17, -1.90983000e-01],
        [ 2.93892626e-01, -4.04508497e-01],
        [ 1.81635627e-01, -5.90169926e-02],
        [ 4.75528258e-01,  1.54508497e-01],
        [ 1.12256991e-01,  1.54508493e-01],
        [ 1.53080850e-16,  5.00000000e-01]]), 
    'h': np.array([[ 3.06161700e-17,  5.00000000e-01],
        [-4.33012702e-01,  2.50000000e-01],
        [-4.33012702e-01, -2.50000000e-01],
        [-9.18485099e-17, -5.00000000e-01],
        [ 4.33012702e-01, -2.50000000e-01],
        [ 4.33012702e-01,  2.50000000e-01],
        [ 1.53080850e-16,  5.00000000e-01]]), 
    'H': np.array([[-2.50000000e-01,  4.33012702e-01],
        [-5.00000000e-01,  2.22044605e-16],
        [-2.50000000e-01, -4.33012702e-01],
        [ 2.50000000e-01, -4.33012702e-01],
        [ 5.00000000e-01, -3.05311332e-16],
        [ 2.50000000e-01,  4.33012702e-01],
        [-2.50000000e-01,  4.33012702e-01]]), 
    '+': np.array([[-0.5,  0. ],
        [ 0.5,  0. ],
        [ 0. , -0.5],
        [ 0. ,  0.5]]), 
    'x': np.array([[-0.5, -0.5],
        [ 0.5,  0.5],
        [-0.5,  0.5],
        [ 0.5, -0.5]]), 
    'D': np.array([[-5.55111512e-17, -7.07106781e-01],
        [ 7.07106781e-01,  0.00000000e+00],
        [ 5.55111512e-17,  7.07106781e-01],
        [-7.07106781e-01,  1.11022302e-16],
        [-5.55111512e-17, -7.07106781e-01]]), 
    'd': np.array([[-3.33066907e-17, -7.07106781e-01],
        [ 4.24264069e-01,  0.00000000e+00],
        [ 2.22044605e-17,  7.07106781e-01],
        [-4.24264069e-01,  1.11022302e-16],
        [-3.33066907e-17, -7.07106781e-01]]), 
    '|': np.array([[ 0. , -0.5],
        [ 0. ,  0.5]]), 
    '_': np.array([[ 5.000000e-01, -3.061617e-17],
        [-5.000000e-01,  3.061617e-17]]), 
    'P': np.array([[-0.16666667, -0.5       ],
        [ 0.16666667, -0.5       ],
        [ 0.16666667, -0.16666667],
        [ 0.5       , -0.16666667],
        [ 0.5       ,  0.16666667],
        [ 0.16666667,  0.16666667],
        [ 0.16666667,  0.5       ],
        [-0.16666667,  0.5       ],
        [-0.16666667,  0.16666667],
        [-0.5       ,  0.16666667],
        [-0.5       , -0.16666667],
        [-0.16666667, -0.16666667],
        [-0.16666667, -0.5       ]]), 
    'X': np.array([[-0.25, -0.5 ],
        [ 0.  , -0.25],
        [ 0.25, -0.5 ],
        [ 0.5 , -0.25],
        [ 0.25,  0.  ],
        [ 0.5 ,  0.25],
        [ 0.25,  0.5 ],
        [ 0.  ,  0.25],
        [-0.25,  0.5 ],
        [-0.5 ,  0.25],
        [-0.25,  0.  ],
        [-0.5 , -0.25],
        [-0.25, -0.5 ]])}

cmaps = sorted(m for m in plt.cm.datad if not m.endswith("_r"))

xx = {}
x = matplotlib.colors.get_named_colors_mapping()
for key in x:
    if not isinstance(x[key],tuple):
        xx[key.replace('xkcd:','')]=matplotlib.colors.to_rgb(x[key])
    elif isinstance(x[key],tuple) and isinstance(x[key][0],str) and '#' in x[key][0]:
        xx[key.replace('xkcd:','')]=tuple(map(lambda x: np.array(x)/255.,struct.unpack('BBB',x[key][0].strip('#'))))
    else:
        xx[key.replace('xkcd:','')]=tuple(map(float,x[key]))



RGBtoName = {}
for k,v in xx.items():
    RGBtoName[v]=k



NametoRGB = {}
for k,v in RGBtoName.items():
    NametoRGB[v] = k

NametoHex = {}
for k,v in NametoRGB.items():
    NametoHex[k] = matplotlib.colors.to_hex(v)

RGBtoHex = {}
for k,v in NametoRGB.items():
    RGBtoHex[v] = matplotlib.colors.to_hex(v)
    
HextoRGB = {}
for k,v in RGBtoHex.items():
    HextoRGB[v] = k

HextoName = {}
for k,v in NametoHex.items():
    HextoName[v] = k

    
    